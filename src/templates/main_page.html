<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Decision Support System - Main Page</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style_main_page.css') }}">
  <link rel="stylesheet" href="https://pyscript.net/releases/2023.11.1/core.css">
  <script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"></script>


  <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
  <!-- <link rel="icon" href="/src/static/icons/icon!!.png" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="/src/static/css/style_main_page.css"> 
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='./style_main_page.css') }}">
  <link rel="stylesheet" href="https://pyscript.net/releases/2023.11.1/core.css" />
  <script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"></script> -->
  <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
</head>

<body>
  <section>
    <div class="frame">
      <br>
      <br>
      <br>
      <br>
      <!-- <h1>
        <p>Введите данные о каждом сотруднике</p>
      </h1> -->

      <!-- <form action="src\cgi-bin\obrabotka.py" method="post">
              <p>Введите данные о каждом сотруднике</p>
              <input type="text" name = "in_name"><br />
              <input type="text" name = "in_comment"><br />
              <p><button class="but1" type="submit"><b>Показать результат</b></button></p> 
            </form> -->



      <!-- <form action="program.py" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name"><br><br>

        <label for="email">Surname:</label>
        <input type="text" id="surname" name="surname"><br><br>

        <label for="message">Information:</label><br>
        <textarea id="info" name="info" rows="4" cols="30"></textarea><br><br>

        <input type="submit" value="Submit">
      </form> -->

      <!--this script gives mistake "Cannot GET /src/src/cgi-bin/obrabotka.py"-->

      <br>
      <br>
      <br>
      <br>
      <br>

      <h1>Welcome to Data Calculation Page</h1>
      <form action="/calculate" method="post">
        <label for="data">Enter a number: </label>
        <input type="text" id="data" name="data">
        <input type="submit" value="Calculate">
      </form>
      <div id="result"></div>
      <script>
        const form = document.querySelector('form');
        form.addEventListener('submit', async (event) => {
          event.preventDefault();
          const formData = new FormData(form);
          const response = await fetch('/calculate', {
            method: 'POST',
            body: formData
          });
          const result = await response.text();
          document.getElementById('result').innerText = `Result: ${result}`;
        });
      </script>

    </div>

  </section>
  <!-- <pyscript src = "./src/app.py"></pyscript>  -->
<!-- 
  <py-script>
    print(4567)
    pip install flask
    from flask import Flask, request, render_template

    app = Flask(__name__)

    @app.route('/')
    def index():
        return render_template('\src\templates\main_page.html')

    @app.route('/calculate', methods=['POST'])
    def calculate():
        data = request.form['data']
        # Perform your calculations with the data
        result = calculate_result(data)
        return result

    def calculate_result(data):
        # Perform your calculations here
        # For demonstration purposes, let's just double the number
        try:
            return str(2 * int(data))
        except ValueError:
            return "Invalid input, please enter a number."

    if __name__ == '__main__':
        app.run()

    # if __name__ == '__main__':
    # app.run(debug=True)
  </py-script> -->

</body>

<footer>

</footer>

</html>