<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Decision Support System - Main Page</title>
  <link rel="icon" href=" {{ url_for ('static', filename='icons/icon!!.png') }}" type="image/x-icon">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style_main_page.css') }}">
  <link rel="stylesheet" href="https://pyscript.net/releases/2023.11.1/core.css">
  <script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"></script>

</head>

<body>
  <section>
    <div class="frame">
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      

      <h1>Welcome to Data Calculation Page</h1>
      <form action="/calculate" method="post">

        <label for="data">How many projects are realised by this programmer?
          If less than 5, put "0", else put "1": </label>
        <input type="text" id="data" name="data">

        <br>

        <label for="data2">The speed learning and motivation to study is below average - put "0", else - "1": </label>
        <input type="text" id="data2" name="data2">

        <br>

        <label for="data3">Are all planned tasks completed? Yes - "1", no - "0": </label>
        <input type="text" id="data3" name="data3">

        <br>

        <label for="data4">Is he/she proactive while working on a project? Yes - "1", no - "0": </label>
        <input type="text" id="data4" name="data4">

        <br>

        <label for="data5">Was there any conflict in which the coder took part? Yes - "1", no - "0": </label>
        <input type="text" id="data5" name="data5">
        
        <br>

        <label for="data6">SOMETHING MORE ABOUT POOR PROGRAMMER!!!!? Yes -
          "1", no - "0": </label>
        <input type="text" id="data6" name="data6">
        <br>
        <input type="submit" value="Calculate">
      </form>


      <div id="result"></div>
      <script>
        const form = document.querySelector('form');
        form.addEventListener('submit', async (event) => {
          event.preventDefault();
          const formData = new FormData(form);
          const response = await fetch('/calculate', {
            method: 'POST',
            body: formData
          });
          const result = await response.text();
          document.getElementById('result').innerText = `Result: ${result}`;
        });
      </script>

    </div>

  </section>
  <!-- 
  <py-script>
    print(4567)
    pip install flask
    from flask import Flask, request, render_template

    app = Flask(__name__)

    @app.route('/')
    def index():
        return render_template('\src\templates\main_page.html')

    @app.route('/calculate', methods=['POST'])
    def calculate():
        data = request.form['data']
        # Perform your calculations with the data
        result = calculate_result(data)
        return result

    def calculate_result(data):
        # Perform your calculations here
        # For demonstration purposes, let's just double the number
        try:
            return str(2 * int(data))
        except ValueError:
            return "Invalid input, please enter a number."

    if __name__ == '__main__':
        app.run()

    # if __name__ == '__main__':
    # app.run(debug=True)
  </py-script> -->

</body>

<footer>

</footer>

</html>